<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <div>
        <h1 id="directions-text">Psychic Game: Choose a Vowel:</h1>
        <h1 id="win-text"></h1>
        <p id="reset-text"></p>
        <p id="userchoice-text"></p>
        <p id="computerchoice-text"></p>
        <p id="guess-text"></p>
        <p id="wins-text"></p>
        <p id="losses-text"></p>
        <p id="ties-text"></p>
      </div>


    <script type="text/javascript">
   
        // Creates an array that lists out all of the options (Rock, Paper, or Scissors).
        var computerChoices = ["a", "e", "i", "o","u", "y"];
        var regex = /[A-Za-z]/
    
        // Creating variables to hold the number of wins, losses, and ties. They start at 0.
        var wins = 0;
        var losses = 0;
        var ties = 0;
        var guessesLeft = 4;
        var winState = false; 
    
        // Create variables that hold references to the places in the HTML where we want to display things.
        var directionsText = document.getElementById("directions-text");
        var userChoiceText = document.getElementById("userchoice-text");
        var youwinText = document.getElementById("win-text");
        var resetText = document.getElementById("reset-text");
        var computerChoiceText = document.getElementById("computerchoice-text");
        var guessesLeftText = document.getElementById("guess-text");
        var winsText = document.getElementById("wins-text");
        var lossesText = document.getElementById("losses-text");
        var tiesText = document.getElementById("ties-text");

        youwinText.textContent = "";

        var computerGuess = computerChoices[Math.floor(Math.random() * computerChoices.length)];

        // Reset upon pressing any key after win 

        function reguess(){
            computerGuess = computerChoices[Math.floor(Math.random() * computerChoices.length)];
        }
        function reset() { 
            guessesLeft = 4;  
            var userGuess = event.key;
            
            winState = false; 

            directionsText.textContent = "Psychic Game: Choose a letter: ";
            youwinText.textContent = "";
            directionsText.textContent = "Press any key to play again!"
            userChoiceText.textContent = "You chose: " + userGuess;
            computerChoiceText.textContent = "The computer chose: " + computerGuess;
            guessesLeftText.textContent = "Guesses left: " + guessesLeft;
            winsText.textContent = "wins: " + wins;
            lossesText.textContent = "losses: " + losses;
            tiesText.textContent = "ties: " + ties;

        reguess();
            }

        
        // This function is run whenever the user presses a key.
        document.onkeyup = function(event) {

            youwinText.textContent = "";
    
          // Determines which key was pressed.
          var userGuess = event.key;
    
          // Randomly chooses a choice from the options array. This is the Computer's guess.
        
    
          // Only run the following code block if the user presses "r" or "p" or "s".
if (userGuess === "a" || userGuess === "i" || userGuess === "o" || userGuess === "e" || userGuess === "u" ||userGuess === "y" )

          if ((userGuess !== computerGuess) && (guessesLeft !== 0)) {
            youwinText.textContent = "";
            
            guessesLeft = guessesLeft - 1;
    
            // Hide the directions
            directionsText.textContent = "";
    
            // Display the user and computer guesses, and wins/losses/ties.
            userChoiceText.textContent = "You chose: " + userGuess;
            computerChoiceText.textContent = "";
            guessesLeftText.textContent = "Guesses left: " + guessesLeft;
            winsText.textContent = "wins: " + wins;
            lossesText.textContent = "losses: " + losses;
            tiesText.textContent = "ties: " + ties;
          }
          else if ((userGuess === computerGuess) && (guessesLeft !== 0) && (winState===false)) {

            winState = true; 
            reset(); 
             
            //add win 
            wins = wins + 1;
            // Hide the directions
            directionsText.textContent = "";
    
            // Display the user and computer guesses, and wins/losses/ties.
            youwinText.textContent = "YOU WIN!";
            userChoiceText.textContent = "You chose: " + userGuess;
            computerChoiceText.textContent = "";
            guessesLeftText.textContent = "Guesses left: " + guessesLeft;
            winsText.textContent = "wins: " + wins;
            lossesText.textContent = "losses: " + losses;
            tiesText.textContent = "ties: " + ties;

            
          }
          else if (guessesLeft === 0 ){

            losses = losses + 1;
                     
    
         // Display the user and computer guesses, and wins/losses/ties.
        youwinText.textContent = "YOU LOSE!!";
        reset();
  }
        else if (winState === true){
            reset(); 
        }
            };
      </script>
</body>
</html>